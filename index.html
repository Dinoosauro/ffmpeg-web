<!DOCTYPE html>

<head>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@700&family=Work+Sans&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"
        integrity="sha256-X7rrn44l1+AUO65h1LGALBbOc5C5bOstSYsNlv9MhT8=" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <link rel="manifest" href="./manifest.json" />
    <link rel="apple-touch-icon" href="./assets/logo.png" />
    <meta name="apple-mobile-web-app-status-bar" content="#191919" />
    <meta name="theme-color" content="#e2b54c" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <meta charset="UTF-8">
    <link rel="icon" href="./assets/logo.png">
    <title>ffmpeg-web</title>
    <style id="safariFix"></style>
</head>

<body>
    <div style="display: flex; align-items: center; justify-content: center">
        <img data-fetch="logo" height="60px" width="60px" style="margin-right: 15px;">
        <h1>ffmpeg-web</h1>
    </div>
    <br><br><i data-translate="intro">Convert locally videos, audios and images using ffmpeg, directly from your
        browser</i><br><br>
    <div class="flexAdaptive">
        <div class="card leftCard" data-card="contentCard">
            <div class="rowDisplay maxHeight" style="flex-direction: column; overflow-y: hidden;">
                <h3 class="textcenter" data-translate="contentQuestion">What do you want to do?</h3>
                <i class="textcenter" data-translate="scroll">Scroll to see more options</i><br>
                <div style="display: flex; flex-direction: row; overflow-y: hidden; padding-bottom: 10px;">
                    <div class="optionBtn sectionSelect minWidth" section="reenc">
                        <l class="totalCenter" data-translate="mediaenc">Media encoding</l>
                    </div>
                    <div class="optionBtn minWidth" section="cmd">
                        <l class="totalCenter" data-translate="cmd">Custom command</l>
                    </div>
                    <div class="optionBtn minWidth" section="merge">
                        <l class="totalCenter" data-translate="merge">Merge media</l>
                    </div>
                    <div class="optionBtn minWidth" section="imgenc">
                        <l class="totalCenter" data-translate="img">Convert images</l>
                    </div>
                    <div class="optionBtn minWidth" section="metadata">
                        <l class="totalCenter" data-translate="metadata">Change metadata</l>
                    </div>
                    <div class="optionBtn minWidth" section="extractalbum">
                        <l class="totalCenter" data-translate="extract">Extract album art</l>
                    </div>
                </div>
            </div>
            <div id="reencOpt">
                <div class="titleContainer">
                    <img data-fetch="convert" class="fetchStyle">
                    <h2 data-translate="output">Output format:</h2>
                </div>
                <l data-translate="outputDesc">You can choose between lots of formats. Click on the switch to select
                    what media type(s) you want in
                    your final file:</l>
                <h3 data-translate="outputVid">Video output:</h3>
                <div class="switchContainer">
                    <label class="switch">
                        <input type="checkbox" autocomplete="off" id="vidOutput">
                        <span class="slider"></span>
                    </label>
                    <l data-translate="outputVidDesc">Add a video output</l>
                </div>
                <div class="rowDisplay maxHeight" id="videoElementsDisplay" style="display: none;">
                    <div class="optionBtn" data-videoval="copy" data-extension="default">
                        <l class="totalCenter" data-translate="copyvideo">Copy video</l>
                    </div>
                    <div class="optionBtn" data-videoval="libx264" data-hw-nvidia="h264_nvenc" data-hw-intel="h264_qsv"
                        data-hw-amd="h264_amf" data-hw-apple="h264_videotoolbox" data-extension="mp4">
                        <l class="totalCenter">H264 (.mp4)</l>
                    </div>
                    <div class="optionBtn" data-videoval="libx265" data-hw-intel="hevc_qsv" data-hw-amd="hevc_amf"
                        data-hw-nvidia="hevc_nvenc" data-hw-apple="hevc_videotoolbox" data-extension="mp4">
                        <l class="totalCenter">HEVC (.mp4)</l>
                    </div>
                    <div class="optionBtn" data-videoval="libvpx-vp9" data-hw-intel="vp9_qsv" data-hw-amd="vp9_amf"
                        data-hw-nvidia="vp9_nvenc" data-extension="webm">
                        <l class="totalCenter">VP9 (.webm)</l>
                    </div>
                    <div class="optionBtn" data-videoval="libvpx" data-hw-amd="vp8_amf" data-hw-intel="vp8_qsv"
                        data-hw-nvidia="vp8_nvenc" data-extension="webm" advanced>
                        <l class="totalCenter">VP8 (.webm)</l>
                    </div>
                    <div class="optionBtn" data-videoval="libtheora" data-extension="ogg" advanced>
                        <l class="totalCenter">Theora (.ogg)</l>
                    </div>
                    <div class="optionBtn" data-videoval="wmv1" data-extension="wmv" advanced>
                        <l class="totalCenter">Windows Media Video (7)</l>
                    </div>
                    <div class="optionBtn" data-videoval="wmv2" data-extension="wmv" advanced>
                        <l class="totalCenter">Windows Media Video (8)</l>
                    </div>
                </div>
                <h3 data-translate="outputAud">Audio output</h3>
                <div class="switchContainer">
                    <label class="switch">
                        <input type="checkbox" autocomplete="off" id="audOutput">
                        <span class="slider"></span>
                    </label>
                    <l data-translate="outputAudDesc">Add an audio output</l>
                </div>
                <div class="rowDisplay maxHeight" id="audioElementsDisplay" style="display: none;">
                    <div class="optionBtn" data-audioval="copy" data-extension="default">
                        <l class="totalCenter" data-translate="copyaudio">Copy audio</l>
                    </div>
                    <div class="optionBtn" data-audioval="libmp3lame" data-extension="mp3">
                        <l class="totalCenter">MP3 (.mp3)</l>
                    </div>
                    <div class="optionBtn" data-audioval="aac" data-extension="m4a">
                        <l class="totalCenter">AAC (.m4a) [aac]</l>
                    </div>
                    <div class="optionBtn" data-audioval="libfdk_aac" data-extension="m4a">
                        <l class="totalCenter">AAC (.m4a) [libfdk]</l>
                    </div>
                    <div class="optionBtn" data-audioval="no" data-extension="wav">
                        <l class="totalCenter">Wave (.wav)</l>
                    </div>
                    <div class="optionBtn" data-audioval="alac" data-extension="m4a">
                        <l class="totalCenter">Alac (.m4a)</l>
                    </div>
                    <div class="optionBtn" data-audioval="flac" data-extension="flac">
                        <l class="totalCenter">Flac (.flac)</l>
                    </div>
                    <div class="optionBtn" data-audioval="libopus" data-extension="ogg">
                        <l class="totalCenter">Opus (.ogg)</l>
                    </div>
                    <div class="optionBtn" data-audioval="libvorbis" data-extension="ogg">
                        <l class="totalCenter">Vorbis (.ogg)</l>
                    </div>
                    <div class="optionBtn" data-audioval="wmav1" data-extension="wma" advanced>
                        <l class="totalCenter">Windows Media Audio 1</l>
                    </div>
                    <div class="optionBtn" data-audioval="wmav2" data-extension="wma" advanced>
                        <l class="totalCenter">Windows Media Audio 2</l>
                    </div>
                </div>
            </div>
            <div id="customSection" style="display: none;">
                <div class="titleContainer">
                    <img data-fetch="keyboard" class="fetchStyle">
                    <h2 data-translate="customscript">Custom ffmpeg script:</h2>
                </div>
                <br>
                <l data-translate="customscriptDesc">Write a custom ffmpeg script, avoiding writing ffmpeg at the
                    start. You can also use $input[number] instead of the file name. Click on the argument to delete it.
                </l>
                <br><br>
                <div id="newCustomUI"></div>
            </div>
            <div id="mergeSection" style="display: none;">
                <div class="titleContainer">
                    <img data-fetch="merge" class="fetchStyle">
                    <h2 data-translate="mediamerge">Merge media</h2>
                </div>
                <l data-translate="mediamergeDesc">The media files will be merged without re-encoding. Plase write the
                    output file name (with its
                    extension) below.</l><br><br>
                <input data-text autocomplete="off" id="mergeName" placeholder="example.mp4" class="fill"><br><br>
                <div class="switchContainer">
                    <label class="switch">
                        <input type="checkbox" autocomplete="off" id="keepAlbumArt" checked>
                        <span class="slider"></span>
                    </label>
                    <l data-translate="keepAlbumArt">Keep the album art (or thumbnail) of the first file. Disable if
                        conversion fails.</l>
                </div>
            </div>
            <div id="imgSection" style="display: none;">
                <div class="titleContainer">
                    <img data-fetch="img" class="fetchStyle">
                    <h2 data-translate="imgconvert">Convert image:</h2>
                </div>
                <l data-translate="imgconvertDesc">Choose the output image format:</l>
                <div id="imgChooser1">
                    <div class="rowDisplay maxHeight" id="imgElementsDisplay">
                        <div class="optionBtn" data-imgval="no" data-extension="bmp">
                            <l class="totalCenter">Bitmap (.bmp)</l>
                        </div>
                        <div class="optionBtn" data-imgval="gif" data-extension="gif">
                            <l class="totalCenter">GIF (.gif)</l>
                        </div>
                        <div class="optionBtn" data-imgval="no" data-extension="jpg">
                            <l class="totalCenter">JPEG (.jpg)</l>
                        </div>
                        <div class="optionBtn" data-imgval="png" data-extension="png">
                            <l class="totalCenter">PNG (.png)</l>
                        </div>
                        <div class="optionBtn" data-imgval="tiff" data-extension="tiff">
                            <l class="totalCenter">TIFF (.tiff)</l>
                        </div>
                        <div class="optionBtn" data-imgval="libwebp" data-extension="webp">
                            <l class="totalCenter">WebP (.webp)</l>
                        </div>
                        <div class="optionBtn" data-imgval="apng" data-extension="png" advanced>
                            <l class="totalCenter">Animated PNG (.png)</l>
                        </div>
                        <div class="optionBtn" data-imgval="jpeg2000" data-extension="jpg" advanced>
                            <l class="totalCenter">JPEG 2000 (.jpg)</l>
                        </div>
                        <div class="optionBtn" data-imgval="jpegls" data-extension="jpg" advanced>
                            <l class="totalCenter">JPEG-LS (.jpg)</l>
                        </div>
                        <div class="optionBtn" data-imgval="ljpeg" data-extension="jpg" advanced>
                            <l class="totalCenter">Lossles JPEG (.jpg)</l>
                        </div>
                    </div>
                </div>
                <i data-translate="ffmpegReuse">ffmpeg uses the same parameters of video outputs for images, so you can
                    edit them below.</i>
            </div>
            <div style="display: none;" id="metadataSection">
                <div class="titleContainer">
                    <img data-fetch="search" class="fetchStyle">
                    <h2 data-translate="addmetadata">Add metadata:</h2>
                </div>
                <l data-translate="addmetadataDesc">You can edit metadatas directly from ffmpeg, without re-encoding
                    your file. You'll be able to change metadata below</l><br><br>
                <div class="switchContainer">
                    <label class="switch">
                        <input type="checkbox" autocomplete="off" id="metadataKeep" checked>
                        <span class="slider"></span>
                    </label>
                    <l data-translate="keepMetadata">Keep current metadata</l>
                </div><br><br>
                <div class="switchContainer">
                    <label class="switch">
                        <input type="checkbox" autocomplete="off" id="mp4Keep" checked>
                        <span class="slider"></span>
                    </label>
                    <l data-translate="keepMp4Metadata">Keep album art in a MP4 files, disabling custom metadata</l>
                </div>
            </div>
            <div style="display: none;" id="albumArtSection">
                <div class="titleContainer">
                    <img data-fetch="imgsparkle" class="fetchStyle">
                    <h2 data-translate="extractArt">Extract album art:</h2>
                </div>
                <l data-translate="extractArtDesc">Export album art in:</l>
                <div id="imgChooser2"></div>
            </div>
            <div>
                <div id="smartCut"><br>
                    <div style="display: flex; align-items: center;">
                        <h3 data-translate="trim">Trim content length:</h3><select autocomplete="off"
                            id="cutVideoSelect" style="margin-left: 10px;">
                            <option value="0" selected data-translate="no">No</option>
                            <option value="1" data-translate="singleY">Yes (single selection)</option>
                            <option value="2" data-translate="multiY">Yes (multiple timestamps)</option>
                        </select>
                    </div>
                    <div id="singleCrop" class="rowDisplay" style="display: none">
                        <l data-translate="start">Start (hh:mm:ss):</l><input data-text autocomplete="off"
                            id="startCut"><br>
                        <l data-translate="end">End (hh:mm:ss):</l><input data-text autocomplete="off" id="endCut">
                    </div>
                    <div class="rowDisplay" style="display: none;" id="multiCrop">
                        <i data-translate="fileTitle">Write the file title, then add a divider and put the
                            timestamp.</i><br><br>
                        <l data-translate="divider">Divider:</l><input data-text autocomplete="off"
                            style="width: 25%; margin-right: 10px;" id="dividerInput">
                        <l data-translate="timestampPosition">Timestamp position:</l><select autocomplete="off"
                            id="timestampPosition">
                            <option value="0" data-translate="left">Left</option>
                            <option value="1" selected data-translate="right">Right</option>
                        </select><br><br>
                        <textarea id="timestampArea" placeholder="Write here your timestamps!"
                            class="fill"></textarea><br><br>
                        <div class="switchContainer">
                            <label class="switch">
                                <input type="checkbox" autocomplete="off" id="smartMetadata" checked>
                                <span class="slider"></span>
                            </label>
                            <l data-translate="smartDesc">Add title and track metadata</l>
                        </div><br>
                        <div id="smartTrackId">
                            <l data-translate="trackStart">Start numeration with:</l><input id="trackStart"
                                autocomplete="off" type="number" min="0" value="1">
                        </div>
                    </div>
                </div>
                <br><br>
                <l><span data-translate="reEncAlert">If you are re-encoding the media file, you can choose its options
                        by scrolling below. Otherwise, choose the files on the</span> <span id="textAdapt">second last
                        card</span></l>
            </div>
        </div>
        <div class="card rightCard" data-card="fileSelection">
            <div class="titleContainer">
                <img data-fetch="document" class="fetchStyle">
                <h2 data-translate="fileSelect">File selection:</h2>
            </div>
            <h3 data-select="selectFile" data-translate="chooseFile">Choose files:</h3>
            <l data-translate="chooseFileDesc">Select how multiple files should be handled:</l><br><br>
            <select autocomplete="off" id="multiVideoHandle" class="fill">
                <option value="0" data-translate="keepfirst">Keep only the first file</option>
                <option value="1" data-translate="addall">Add all of them in the output arguments</option>
                <option value="2" data-translate="addiffirst">Add video/audio to the command if they have the same name
                    (only first video matching)
                </option>
                <option value="3" data-translate="addif">Add video/audio to the command if they have the same name
                    (every video/audio)</option>
                <option value="4" selected data-translate="same">Execute the same command for every single file</option>
                <option value="-1" disabled data-translate="na">Not Applicable</option>
            </select><br><br>
            <i data-translate="selectNote">Note: the conversion will automatically start after you selected the files.
                Before doing that, change the
                parameters below.</i><br><br>
            <div style="display: flex;">
                <div class="button" role="button" id="btnSelect" data-translate="selectFile"
                    style="width: 100%; margin-right: 5px;">Select
                    files</div>
                <div class="button" role="button" id="folderSelect" data-translate="selectFolder"
                    style="width: 100%; margin-left: 5px;">Select folder</div>
            </div>
            <br>
            <h3 data-translate="privacy">Privacy:</h3>
            <div style="align-items: center;" class="rowDisplay">
                <img height="35px" width="35px" data-fetch="shield" style="margin-right: 10px;">
                <l data-translate="localelaborate">Your media files are locally elaborated, therefore they'll always
                    stay on your device. </l>
            </div>
            <div style="align-items: center;" class="rowDisplay">
                <img height="35px" width="35px" data-fetch="code" style="margin-right: 10px;">
                <l data-translate="fetch">This website connects to JSDelivr, unpkg & Google Fonts only to fetch
                    essential resources to work,
                    and doesn't share any data with them.</l>
            </div>
            <div style="align-items: center;" class="rowDisplay">
                <img height="35px" width="35px" data-fetch="js" style="margin-right: 10px;">
                <l>
                    <l data-translate="publish">This website is published under the</l> <a
                        href="https://github.com/dinoosauro/ffmpeg-web/blob/main/LICENSE" target="_blank"
                        style="display: inline;" data-translate="mit">MIT license</a>, <l data-translate="findSource">
                        and you can find (and, if
                        you want, analyze) the</l>
                    <a href="https://github.com/dinoosauro/ffmpeg-web" target="_blank" style="display: inline;"
                        data-translate="sourceCode">source code on
                        GitHub.</a>
                </l>
            </div>
        </div>
        <div class="card leftCard" id="metadaOpt" style="display: none;" data-card="metadata">
            <div class="titleContainer">
                <img data-fetch="metadata" class="fetchStyle">
                <h2 style="margin-left: 10px;" data-translate="metadatamanage">Manage metadata:</h2>
            </div>
            <l data-translate="metadatamanageDesc">Choose one of the metadata below, or create your own custom. If you
                want to delete one, add a new metadata leaving the value blank.</l><br><br>
            <div id="metadataShow" class="rowDisplay maxHeight">
                <div class="optionBtn minWidth metadataSelect" data-key="custom">
                    <l class="totalCenter" data-translate="customMetadata">Custom metadata</l>
                </div>
            </div><br>
            <div>
                <div id="onlyCustom">
                    <l data-translate="key">Key:</l><input data-text autocomplete="off" id="metadataKey">
                </div><br>
                <l data-translate="value">Value:</l><input data-text autocomplete="off" id="metadataValue">
            </div><br>
            <div class="button" role="button" id="itemAdd" data-translate="additem">Add item</div><br>
            <div id="metadataAdded" class="maxHeight" style="max-height: 0px; display: grid;"></div><br>
            <div class="switchContainer">
                <label class="switch">
                    <input type="checkbox" autocomplete="off" id="customAlbumArt">
                    <span class="slider"></span>
                </label>
                <l data-translate="customAlbumArt">Add a custom album art</l>
            </div><br>
            <div class="switchContainer">
                <label class="switch">
                    <input type="checkbox" autocomplete="off" id="removeOlderArt">
                    <span class="slider"></span>
                </label>
                <l data-translate="deletevid">Delete the video output (this will delete the previous album art, but also
                    any other video stream)</l>
            </div><br><br>
        </div>
        <div class="card leftCard" id="videoOpt" style="display: none;" data-card="video">
            <div class="titleContainer">
                <img data-fetch="video" class="fetchStyle">
                <h2 style="margin-left: 10px;" data-translate="videoSettings">Video settings:</h2>
            </div>
            <div id="onlyVidSettings">
                <l data-translate="videobitrate">Video Bitrate type:</l>
                <select autocomplete="off" data-select="bitrate" data-child="vid">
                    <option value="0" data-translate="slider">Choose with a slider</option>
                    <option value="1" data-translate="bitrate">Choose bitrate</option>
                </select>
                <br><br>
                <div class="rowDisplay" id="vidQuantization">
                    <l data-translate="qualityChoose">Choose the quality (values near 0 ensure more quality)</l><input
                        type="range" data-update="vidBitLength" autocomplete="off" max="51" min="0" step="1" value="22">
                </div>
                <div class="rowDisplay" id="vidManual" style="display: none;">
                    <l data-translate="writeBitrate">Write the specified bitrate (you can add "k" for kbit/s):</l>
                    <input data-update="vidBitLength" data-text autocomplete="off" style="float: right;">
                </div><br>
                <div id="fpsContainerDiv">
                    <div class="switchContainer">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="checkFps" checked>
                            <span class="slider"></span>
                        </label>
                        <l data-translate="keepFps">Keep the same FPS</l>
                    </div><br>
                    <div class="rowDisplay maxHeight" id="fpsDiv" style="display: none;">
                        <l id="copyComplicated" data-translate="writeFps">Write the current number of FPS:</l> <input
                            type="number" id="fpsInput" autocomplete="off" step="1" min="1">
                        <l id="copyReallyComplicated" data-translate="targetFps">Target FPS:</l><input type="number"
                            autocomplete="off" id="fpsTarget" step="1" min="1">
                    </div>
                    <br>
                </div>
            </div>
            <div class="switchContainer">
                <label class="switch">
                    <input type="checkbox" autocomplete="off" id="checkOrientation">
                    <span class="slider"></span>
                </label>
                <l data-translate="aspectratio">Edit aspect ratio and display options</l>
            </div>
            <div id="orientationDiv" class="rowDisplay maxHeight" block="a" style="display: none;">
                <h3>Aspect ratio</h3>
                <i data-translate="leaveBlank">Leave it to zero to not change this.</i>
                <l data-translate="width">Width:</l><input type="number" autocomplete="off" id="inputWidth">
                <l data-translate="height"> / Height:</l> <input type="number" autocomplete="off" id="inputHeight">
                <h3 data-translate="orientation">Orientation:</h3>
                <select autocomplete="off" id="orientationChoose">
                    <option value="-1" data-translate="default">Default</option>
                    <option value="0"><span data-translate="rotate">Rotate</span> 0°</option>
                    <option value="0.5"><span data-translate="rotate">Rotate</span> 90°</option>
                    <option value="1"><span data-translate="rotate">Rotate</span> 180°</option>
                    <option value="1.5"><span data-translate="rotate">Rotate</span> 270°</option>
                </select>
            </div>
            <br><br>
            <div class="switchContainer">
                <label class="switch">
                    <input type="checkbox" autocomplete="off" id="checkPixelSpace">
                    <span class="slider"></span>
                </label>
                <l data-translate="pixelSpace">Change pixel space</l>
            </div>
            <div id="pixelSpaceDiv" class="rowDisplay maxHeight" style="display: none;">
                <l data-translate="pixelSpaceDesc">Write the pixel space name. Leave blank for default.</l><input
                    data-text autocomplete="off" id="pixelSpace">
            </div>
            <br><br>
            <div class="button" role="button" data-translate="vidFilter" id="showFilter2">Video filters</div><br>
        </div>
        <div class="card rightCard" id="audioOpt" data-card="audio" style="display: none;">
            <div class="titleContainer">
                <img data-fetch="audio" class="fetchStyle">
                <h2 style="margin-left: 10px;" data-translate="audSettings">Audio settings:</h2>
            </div>
            <div id="audioBitrateSettings">
                <l data-translate="audBitrate">Audio Bitrate type:</l>
                <select autocomplete="off" data-select="bitrate" data-child="aud">
                    <option value="0" id="sliderAudio" data-translate="slider">Choose with a slider</option>
                    <option value="1" data-translate="bitrate">Choose bitrate</option>
                </select>
                <br><br>
                <div class="rowDisplay" id="audQuantization">
                    <l data-translate="qualityChoose">Choose the quality (values near 0 ensure more quality)</l><input
                        data-update="audBitLength" autocomplete="off" type="range" max="9" min="0" step="1" value="5">
                </div>
                <div class="rowDisplay" id="audManual" style="display: none;">
                    <l data-translate="writeBitrate">Write the specified bitrate (you can add "k" for kbit/s):</l>
                    <input data-update="audBitLength" data-text autocomplete="off" style="float: right;">
                </div><br>
            </div>
            <l>Audio channels:</l><select autocomplete="off" id="audioChannelSelect">
                <option value="-1" selected data-translate="default">Default</option>
                <option value="1" data-translate="mono">Mono</option>
                <option value="2" data-translate="stereo">Stereo</option>
            </select><br><br>
            <div id="albumArtContainer">
                <div class="switchContainer">
                    <label class="switch">
                        <input type="checkbox" autocomplete="off" id="albumArtCheck">
                        <span class="slider"></span>
                    </label>
                    <l data-translate="keepArt">Keep the album art</l>
                </div><br><br>
            </div>
            <div class="button" role="button" id="showFilter" data-translate="audFilters">Audio filters</div>
        </div>
        <div class="card leftCard rightCard width100" data-card="progress" style="overflow-x: hidden; display: flex;"
            id="scrollableItem">
            <div id="pwaPromote" style="width: 100%; animation-duration: 1s;">
                <div class="titleContainer">
                    <img data-fetch="app" class="fetchStyle">
                    <h2 data-translate="pwaInstall">Install as an app:</h2>
                </div>
                <img class="centerImg isHovered" data-fetch="install" width="50%" style="max-width: 200px;"><br><br>
                <l data-translate="pwaInstallDesc">Install ffmpeg-web as an app to use it offline. Want additional
                    performances? Download the Electron version to use ffmpeg with hardware acceleration</l><br><br>
                <div style="display: flex;">
                    <div class="button" role="button" id="pwaInstall" data-translate="pwaInstallBtn"
                        style="width: 100%; margin-right: 5px;">Install as a PWA (easier)
                    </div>
                    <div class="button" role="button" id="electronInstructions" data-translate="electronInstall"
                        style="margin-left: 5px; width: 100%;">Install
                        Electorn package (better performance)</div>
                </div>
                <br><br>
                <img data-fetch="arrowright" width="40px" height="40px" class="centerImg isHovered">
            </div>
            <div id="redownload" style="width: 100%; display: none; animation-duration: 1s;">
                <div class="titleContainer">
                    <img data-fetch="videoconvert" class="fetchStyle">
                    <h2 data-translate="progression">File progression:</h2>
                </div>
                <div>
                    <progress id="progress" max="100" class="fill"></progress>
                    <div class="rowDisplay fill" style="height: 40px; overflow-y: auto; word-break: break-word;">
                        <l id="console">You'll see the output here...</l>
                    </div>
                </div>
                <div id="overwriteDiv" style="display: none;">
                    <br>
                    <div class="button" role="button" id="overwriteYes">Overwrite and continue</div>
                </div>
                <div id="redownloadPart">
                    <h3 data-translate="redownload">Redownload files</h3><br>
                    <div class="switchContainer">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="saveFiles" checked>
                            <span class="slider"></span>
                        </label>
                        <l data-translate="keepOutput">Keep the output files saved in memory</l>
                    </div><br><br>
                    <i data-translate="missedDownload">In case you've missed a download, you can find that
                        here.</i><br><br>
                    <select autocomplete="off" id="redownloadVideos" class="fill">
                        <option value="-1" disabled selected data-translate="selection">Select a file</option>
                    </select><br><br>
                    <div id="linkContainer"></div><br><br>
                    <l class="isHovered" id="memDelete"
                        style="display: block; text-align: center; text-decoration: underline;" data-translate="delete">
                        Delete selected from
                        memory</l><br><br>
                </div>
                <div id="zipPart" style="display: none;">
                    <h3 data-translate="zipManager">Zip File Manager:</h3>
                    <l data-translate="zipManagerDesc">Every new file will be added to the zip file, and you'll be
                        notified when that happens</l>
                    <br><br>
                    <div style="display: flex;">
                        <div class="button" role="button" style="width: 48%; margin-right: 2%;" id="downloadZip"
                            data-translate="downloadZip">Download zip
                        </div>
                        <div class="button" role="button" style="width: 48%; margin-left: 2%;" id="cleanZip"
                            data-translate="cleanZip">Clean zip file</div>
                    </div>
                    <div style="justify-content: center; display: none;" id="zipSpinner">
                        <div class="spinner" id="zipSpinner"></div>
                    </div>
                    <div id="troubleContainer"></div>
                </div>
                <div id="fsPart" style="display: none;">
                    <h3>Files created:</h3>
                    <i>Click on each file to open it. Press Shift to copy the path.</i><br><br>
                    <div id="fsAppend" class="rowDisplay fill"
                        style="height: 50px; overflow-y: auto; word-break: break-word; display: block;"></div>
                </div>
                <img data-fetch="arrowleft" width="40px" height="40px" class="centerImg isHovered">
            </div>
        </div>
    </div>
    </div>
    </div>
    <div class="dialogContainer" style="display: none;">
        <div class="dialog" id="audioFilterDialog">
            <div style="padding-top: 10px; padding: 25px;">
                <img class="close" data-fetch="minimize" id="hideFilter">
                <div class="titleContainer textcenter">
                    <img data-fetch="musicstyle" class="fetchStyle">
                    <h2 data-translate="audioFilter">Audio filters:</h2>
                </div>
                <i class="textcenter" data-translate="deleteCurrent">To delete the current selection, put nothing (or
                    0).</i>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="volume">Audio volume</h3>
                    <l id="audioVolume" data-translate="db">Increase/decrease dB:</l>
                    <input type="number" autocomplete="off" step="1" value="0" max="100" min="-100" id="volumeRange">
                </div>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="denoise">Denoise audio:</h3>
                    <l data-translate="denoiseDesc">Reduce noise (in dB):</l> <input type="number" autocomplete="off"
                        id="noiseLevelReduction" min="0.01" max="97" rangeImportant><br><br>
                    <l>Noise floor:</l><input type="number" autocomplete="off" id="noiseFloorReduction">
                    <l> Hz.</l>
                </div>
                <div class="rowDisplay textcenter" style="display: block;">

                    <h3 data-translate="customFilter">Custom filter:</h3>
                    <i data-translate="customFilterDesc">Write here a custom audio filter that works with the ffmpeg
                        syntax.</i><br><br><input data-text autocomplete="off" id="customAudio">
                </div>
            </div>
        </div>
    </div>
    <div class="dialogContainer" style="display: none;">
        <div class="dialog" id="videoFilterDialog">
            <div style="padding-top: 10px; padding: 25px;">
                <img class="close" data-fetch="minimize" id="hideFilter2">
                <div class="titleContainer textcenter">
                    <img data-fetch="videostyle" class="fetchStyle">
                    <h2 class="textcenter" data-translate="videoFilter">Video filters</h2>
                </div>
                <i class="textcenter" data-translate="deleteCurrent">To delete the current selection, put nothing.</i>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="cropVideo">Crop video:</h3>
                    <l data-translate="width">Width:</l><input type="number" autocomplete="off" id="cropWidth"
                        class="small">
                    <l data-translate="pxHeight">px; Height:</l><input type="number" id="cropHeight" class="small">
                    <l>px</l><br><br>
                    <l><span data-translate="position">Position</span> (x):</l><input data-text autocomplete="off"
                        value="center-w" id="positionItemX" class="small">
                    <l><span data-translate="position">Position</span> (y):</l><input data-text autocomplete="off"
                        value="center-h" id="positionItemY" class="small">
                </div>
                <div class="rowDisplay textcenter" style="display: block;">

                    <h3 data-translate="deinterlace">Deinterlace video</h3>
                    <div class="switchContainer">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="deinterlaceCheck">
                            <span class="slider"></span>
                        </label>
                        <l data-translate="deinterlace">Deinterlace video</l>
                    </div>
                </div>
                <div class="rowDisplay textcenter" style="display: block;">

                    <h3 data-translate="applyCurve">Apply video filter curve</h3>
                    <l data-translate="applySelect">Choose a video filter:</l>
                    <select autocomplete="off" id="curveSelect">
                        <option value="none" selected>None</option>
                        <option value="color_negative">Negative Color</option>
                        <option value="color_process">Color Process</option>
                        <option value="darker">Darker</option>
                        <option value="increase_contrast">Increase contrast</option>
                        <option value="linear_contrast">Linear contrast</option>
                        <option value="medium_contrast">Medium contrast</option>
                        <option value="strong_contrast">Strong contrast</option>
                        <option value="negative">Negative</option>
                        <option value="vintage">Vintage</option>
                    </select>
                </div>
                <div class="rowDisplay textcenter" style="display: block;">

                    <h3 data-translate="customFilter">Custom filter</h3>
                    <i data-translate="customFilterDesc">Write here a custom video filter that works with the ffmpeg
                        syntax.</i><br><br><input data-text autocomplete="off" id="customVideo">
                </div>
            </div>
        </div>
    </div>
    <div class="dialogContainer" style="display: none;">
        <div class="dialog" id="settings">
            <img class="close" data-fetch="minimize" id="hideSettings">
            <div style="padding-top: 10px; padding: 25px; overflow-x: scroll;">
                <div class="titleContainer textcenter">
                    <img data-fetch="settingstyle" class="fetchStyle">
                    <h2 class="textcenter" data-translate="settings">Settings</h2>
                </div>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="savingOpt">Saving options:</h3>
                    <i data-translate="mediaSaveType">Choose how you want to save your media</i><br><br>
                    <div id="zipSaveContainer">
                        <div class="switchContainer hcenter">
                            <label class="switch">
                                <input type="checkbox" autocomplete="off" id="zipSave">
                                <span class="slider"></span>
                            </label>
                            <l data-translate="saveZip">Save files in a .zip file</l>
                        </div><br><br>
                    </div>
                    <div class="switchContainer hcenter">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="advancedFormat">
                            <span class="slider"></span>
                        </label>
                        <l data-translate="advancedEnc">Show less popular encoders</l>
                    </div><br> <br>
                    <div class="switchContainer hcenter">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="safeFile">
                            <span class="slider"></span>
                        </label>
                        <l data-translate="fileSafe">Permit unsafe name for files</l>
                    </div><br> <br>
                    <div id="filePathInBarContainer" style="display: none;">
                        <div class="switchContainer hcenter">
                            <label class="switch">
                                <input type="checkbox" autocomplete="off" id="showPathInBar">
                                <span class="slider"></span>
                            </label>
                            <l data-translate="showFilePathDesc">Show full file path in the title bar</l>
                        </div><br> <br>
                    </div>

                </div><br>
                <div class="rowDisplay" style="display: block;">
                    <h3 class="textcenter" data-translate="manageTheme">Manage themes:</h3>
                    <i class="textcenter" data-translate="manageThemeDesc">Apply, delete or export the themes you've
                        made</i><br><br>
                    <div id="themeOptions" class="maxHeight" style="max-height: 0px; display: grid"></div>
                </div><br>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="createTheme">Create theme:</h3>
                    <i data-translate="createThemeDesc">Change the colors from here, and they'll automatically change in
                        the
                        page. When you've found your
                        perfect combination, click to 'Save'</i><br><br>
                    <div style="display: flex; flex-wrap: wrap;">
                        <div class="colorSelect rightm">
                            <l data-translate="textColor">Text color:</l><input type="color" data-change="text">
                        </div>
                        <div class="colorSelect rightm">
                            <l data-translate="backgroundColor">Background color:</l><input type="color"
                                data-change="background">
                        </div>
                        <div class="colorSelect rightm">
                            <l data-translate="cardColor">Card color:</l><input type="color" data-change="card">
                        </div>
                        <div class="colorSelect rightm">
                            <l data-translate="rowColor">Row/Input/Button color:</l><input type="color"
                                data-change="row">
                        </div>
                        <div class="colorSelect rightm">
                            <l data-translate="sliderColor">Slider color:</l><input type="color" data-change="input">
                        </div>
                        <div class="colorSelect rightm">
                            <l data-translate="accentColor">Accent color:</l><input type="color" data-change="select">
                        </div>
                    </div><br><br>
                    <div style="display: flex;">
                        <div class="button" role="button" id="saveTheme"
                            style="background-color: var(--card); width: 100%; margin-right: 1vw;"
                            data-translate="saveTheme">Save theme</div>
                        <div class="button" role="button" id="importTheme"
                            style="background-color: var(--card); width: 100%; margin-left: 1vw;"
                            data-translate="importTheme">Import theme</div>
                    </div>
                </div><br>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="alerts">Alerts</h3>
                    <i data-translate="alertManage">Manage useful comunications about the current operation</i><br><br>
                    <div class="switchContainer hcenter">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="alertAsk" checked>
                            <span class="slider"></span>
                        </label>
                        <l data-translate="showAlert">Show alerts for operations</l>
                    </div><br><br>
                    <div class="rowDisplay maxHeight" id="alertOptions"
                        style="background-color: var(--card); display: block; margin-top: 10px; padding-top: 25px; padding-bottom: 25px;">
                        <l data-translate="alertDuration">Write the duration of the alert (in ms):</l><input
                            type="number" autocomplete="off" id="alertDuration" value="5000"><br><br>
                        <div class="button" role="button" id="resetBtn" data-translate="resetDismissed">Reset all
                            the dismissed alerts
                        </div>
                    </div>
                    <br><br>
                </div><br>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="saveConversionParameters">Save previous conversion parameters</h3>
                    <i data-translate="saveConversionParametersDesc">Restore the parameters of the last conversion done
                        using
                        ffmpeg-web</i><br><br>

                    <div class="switchContainer hcenter">
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="restorePrevious">
                            <span class="slider"></span>
                        </label>
                        <l data-translate="restoreSelection">Restore previous conversion parameters</l>
                    </div><br><br>

                </div><br>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="outputClear">Output clearing</h3>
                    <i data-translate="outputClearDesc">Choose the maxinum of characters the file progression
                        console
                        will
                        display</i><br><br>
                    <div class="center">
                        <l data-translate="maxChar">Maxinum characters:</l><input type="number" min="10"
                            autocomplete="off" id="maxCharacters" value="150000">
                    </div>
                </div><br>
                <div id="ramManagement">
                    <div class="rowDisplay textcenter" style="display: block;">
                        <h3 data-translate="ram">RAM management</h3>
                        <i data-translate="ramDesc">Manage when ffmpeg-web should exit the current
                            process</i><br><br>
                        <div class="switchContainer hcenter">
                            <label class="switch">
                                <input type="checkbox" autocomplete="off" id="quitFfmpegGeneral">
                                <span class="slider"></span>
                            </label>
                            <l data-translate="quitOperation">Quit after each operation</l>
                        </div><br><br>
                        <div class="switchContainer hcenter">
                            <label class="switch">
                                <input type="checkbox" autocomplete="off" id="quitFfmpegTimestamp">
                                <span class="slider"></span>
                            </label>
                            <l data-translate="quitTimestamp">Quit for each timestamp cut</l>
                        </div><br><br>
                        <div class="button" role="button" style="background-color: var(--card);"
                            data-translate="quitNow" id="quitProcess">
                            Quit now the ffmpeg process</div><br>
                        <i data-translate="quitNowDesc">Quit only if you receive an Out of Memory error</i>
                    </div><br>
                </div>
                <div id="hwAcceleration" style="display: none;">
                    <div class="rowDisplay textcenter" style="display: block;">
                        <h3 data-translate="hwAccel">Hardware acceleration</h3>
                        <i data-translate="hwAccelDesc">Change the arguments that'll be added before everything to
                            make
                            ffmpeg run with hardware
                            acceleration.</i><br><br>
                        <div class="center" style="display: flex; align-items: center; justify-content: center;">
                            <h3 data-translate="template">Template:</h3>
                            <select autocomplete="off" id="hwAccelSelect" style="margin-left: 10px;">
                                <option value="no" selected data-translate="nohw">No hardware acceleration</option>
                                <option value="nvidia">Nvidia (NVENC)</option>
                                <option value="intel">Intel (QSV)</option>
                                <option value="amd">AMD (AMF)</option>
                                <option value="apple">Apple (videotoolbox)</option>
                                <option value="custom" data-translate="custom">Custom value (without hardware
                                    acceleration)
                                </option>
                            </select>
                        </div><br>
                        <label class="switch">
                            <input type="checkbox" autocomplete="off" id="showExtraAcceleration">
                            <span class="slider"></span>
                        </label>
                        <l data-translate="changeArg">Change arguments</l><br><br>
                        <div id="customHardwareId"
                            style=" background-color: var(--card); padding: 20px; border-radius: 8px; display: none;">
                        </div>
                    </div>
                </div><br>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="language">Language</h3>
                    <i data-translate="languageDesc">Change the language used by ffmpeg-web</i><br><br>
                    <select autocomplete="off" id="langSelect">
                        <option value="en">English</option>
                        <option value="it">Italiano</option>
                    </select>
                </div><br>
                <div class="rowDisplay textcenter" style="display: block;">
                    <h3 data-translate="licenses">Licenses:</h3>
                    <i>ffmpeg-web <span id="version">1.0.0</span></i><br><br>
                    <div class="button" role="button" id="showUpdate" style="background-color: var(--card);"
                        data-translate="updateDialogShow">Show
                        update
                        dialog</div><br>
                    <i data-translate="licensesDesc">Show a license from below (you might need to
                        scroll)</i><br><br>
                    <div class="rowDisplay" style="background-color: var(--card);">
                        <div class="optionBtn btnLicense" data-license="mit" data-author="2023 Dinoosauro">
                            <l class="totalCenter">ffmpeg-web</l>
                        </div>
                        <div class="optionBtn btnLicense" data-license="mit" data-author="2020 Microsoft Corporation">
                            <l class="totalCenter">Fluent UI Icons</l>
                        </div>
                        <div class="optionBtn btnLicense" data-license="mit" data-author="2019 Jerome Wu">
                            <l class="totalCenter">ffmpeg.wasm</l>
                        </div>
                        <div class="optionBtn btnLicense" data-license="mit"
                            data-author="2009-2016 Stuart Knightley, David Duponchel, Franz Buchinger, António Afonso">
                            <l class="totalCenter">JSZip</l>
                        </div>
                        <div class="optionBtn btnLicense" data-license="mit"
                            data-author="Electron Electron contributors & Copyright (c) 2013-2020 GitHub Inc.">
                            <l class="totalCenter">Electron</l>
                        </div>
                        <div class="optionBtn btnLicense" data-license="hippocratic"
                            data-author="Animate.css Copyright 2021 Daniel Eden">
                            <l class="totalCenter">animate.css</l>
                        </div>
                    </div><br><br>
                    <div class="rowDisplay" style="background-color: var(--card); margin-top: 10px;">
                        <l id="selectedLicense" style="text-align: left;">The selected license will be shwon here.
                        </l>
                    </div>
                </div>
            </div>

        </div>
    </div>
    <div class="dialogContainer" style="display: none;">
        <div class="dialog" id="updateDialog">
            <div style="padding-top: 10px; padding: 25px;">
                <img class="close" data-fetch="minimize" id="hideDialog">
                <h2>What's new in ffmpeg-web</h2>
                <img class="centerImg isHovered" data-fetch="install" width="50%" style="max-width: 200px;">
                <h3 style="text-align: center;">ffmpeg-web has reached version 2.0.2!</h3>
                <h4>Update log [2.0.2]</h4>
                <ul>
                    <li>It's now possible to store the last conversion parameters used. Enable it from Settings.</li>
                </ul>
                <h4>Update log [2.0.1]</h4>
                <ul>
                    <li>Added folder picker support</li>
                    <li>The page title is updated with the current conversion</li>
                </ul>
                <h4>Update log [2.0.0]:</h4>
                <ul>
                    <li>Run ffmpeg-web with native performances (also with hardware acceleration*) using Electron!
                    </li>
                    <li style="margin-left: 40px;">If you want to run the Electron version, you'll need to have a
                        binary
                        of ffmpeg installed on your device. Otherwise, just continue using the web version.
                    </li>
                    <li style="margin-left: 40px;">You can find a guide on how to use ffmpeg-web with Electron in
                        the
                        README.</li><br>
                    <li>New UI for custom arguments</li>
                    <li style="margin-left: 40px;">You no longer need to write a space to divide each argument</li>
                    <li style="margin-left: 40px;">Click on the "Add argument" button to add the written argument
                    </li>
                    <li style="margin-left: 40px;">Click on each argument to delete it</li><br>
                    <li>Technical improvements</li>
                    <li style="margin-left: 40px;">Improved temp file names</li>
                    <li style="margin-left: 40px;">Libraries are now loaded only if necessary</li>
                    <li style="margin-left: 40px;">Improved code in certain areas</li><br>
                    <li>Added new dialog style</li>
                </ul><br><br>
                <l>* = Only Intel and Apple hardware acceleration have been tested. Hardware acceleration might be
                    unstable, and might require additional driver installation.</l>
            </div>
        </div>
    </div>
    <div class="totalCenter fill opacity">
        <div class="alert" id="keepFilesThatEndsAlert">
            <span style="display: flex; align-items: center;">
                <img height="24" width="24" data-fetch="search" style="margin-right: 10px">
                <l data-text autocomplete="off" data-translate="keepOnlyExplain">Keep only files that ends with:
                </l>
            </span>
            <input type="text" data-text autocomplete="off" id="keepFilesThatEnds">
            <div class="button" role="button" style="background-color: var(--card); margin-left: 10px;"
                id="confirmKeepFiles" data-translate="confirm">Confirm</div>
        </div>
    </div>

    <span data-translate="addArgument" style="display: none;">Add argument</span>
    <!--Leave this so that there's a valid translation in the DOM to fetch-->
    <img class="close" style="width: 30px; height: 30px; position: absolute;" data-fetch="setting" id="showSettings">
    <form id="reset"><input type="file" id="fileInput" multiple style="display: none;"></form>
    <script src="./script.js"></script>
</body>